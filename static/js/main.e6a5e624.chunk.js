(this["webpackJsonpemployee-manager"]=this["webpackJsonpemployee-manager"]||[]).push([[0],{219:function(e,t,a){e.exports=a(396)},224:function(e,t,a){},225:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"ActionType",(function(){return S})),a.d(n,"getData",(function(){return g})),a.d(n,"getDataSuccess",(function(){return j})),a.d(n,"getDataError",(function(){return C})),a.d(n,"addData",(function(){return R})),a.d(n,"addDataSuccess",(function(){return k})),a.d(n,"addDataError",(function(){return v})),a.d(n,"deleteData",(function(){return I})),a.d(n,"deleteDataSuccess",(function(){return w})),a.d(n,"deleteDataError",(function(){return x})),a.d(n,"editData",(function(){return N})),a.d(n,"editDataSuccess",(function(){return U})),a.d(n,"editDataError",(function(){return L})),a.d(n,"searchData",(function(){return G}));var r=a(0),c=a.n(r),o=a(20),l=a.n(o),i=(a(224),a(35)),s=a(91),u=(a(225),a(226),a(397)),m=a(399),E=a(45),d=a(89),p=a(398),A=a(401),D=a(404),b=a(405),f=a(406),T=a(407),y=a(402),_=a(403),h=a(133),O=a(65),S={GET_DATA:"GET_DATA",GET_DATA_SUCCESS:"GET_DATA_SUCCESS",GET_DATA_ERROR:"GET_DATA_ERROR",ADD_DATA:"ADD_DATA",ADD_DATA_SUCCESS:"ADD_DATA_SUCCESS",ADD_DATA_ERROR:"ADD_DATA_ERROR",DELETE_DATA:"DELETE_DATA",DELETE_DATA_SUCCESS:"DELETE_DATA_SUCCESS",DELETE_DATA_ERROR:"DELETE_DATA_ERROR",EDIT_DATA:"EDIT_DATA",EDIT_DATA_SUCCESS:"EDIT_DATA_SUCCESS",EDIT_DATA_ERROR:"EDIT_DATA_ERROR",SEARCH_DATA:"SEARCH_DATA"},g=function(e){return{type:S.GET_DATA,payload:e}},j=function(e){return{type:S.GET_DATA_SUCCESS,payload:e}},C=function(e){return{type:S.GET_DATA_ERROR,payload:e}},R=function(e){return{type:S.ADD_DATA,payload:e}},k=function(e){return{type:S.ADD_DATA_SUCCESS,payload:e}},v=function(e){return{type:S.ADD_DATA_ERROR,payload:e}},I=function(e){return{type:S.DELETE_DATA,payload:e}},w=function(e){return{type:S.DELETE_DATA_SUCCESS,payload:e}},x=function(e){return{type:S.DELETE_DATA_ERROR,payload:{error:e}}},N=function(e,t){return{type:S.EDIT_DATA,payload:{list:e,id:t}}},U=function(e){return{type:S.EDIT_DATA_SUCCESS,payload:e}},L=function(e){return{type:S.EDIT_DATA_ERROR,payload:e}},G=function(e){return{type:S.SEARCH_DATA,payload:e}},H=a(150),F=a.n(H),J=a(400),Y=a(95),M=a(155),P=a.n(M),q=u.a.Header,B=u.a.Sider,W=u.a.Content,z=u.a.Footer,V=Object(h.b)((function(e){return{litsEmployee:e.employeeData.lists}}),(function(e){return{employeeAct:Object(O.bindActionCreators)(n,e)}}))((function(e){var t=e.litsEmployee,a=e.employeeAct,n=Object(Y.b)().logout,o=Object(r.useState)(!1),l=Object(s.a)(o,2),h=l[0],O=l[1],S=JSON.parse(localStorage.getItem("isUser")),g=m.a.useForm(),j=Object(s.a)(g,1)[0],C=Object(r.useState)(!1),R=Object(s.a)(C,2),k=R[0],v=R[1],I=Object(r.useState)(!1),w=Object(s.a)(I,2),x=w[0],N=w[1],U=Object(r.useState)(!1),L=Object(s.a)(U,2),G=L[0],H=L[1],M=Object(r.useState)({}),V=Object(s.a)(M,2),K=V[0],Q=V[1],X=function(){O(!h)},$=Object(r.useCallback)((function(){(0,a.getData)()}),[a]);Object(r.useEffect)((function(){$()}),[$]);var Z=[{title:"Name",dataIndex:"name",key:"name"},{title:"Date of birth",dataIndex:"dateofbirth",key:"age"},{title:"Address",dataIndex:"address",key:"address"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Action",dataIndex:"",key:"option",render:function(e,t){return c.a.createElement(c.a.Fragment,null," ",c.a.createElement(E.a,null," ",c.a.createElement(y.a,{onClick:function(){return ee(t)}})," "),c.a.createElement(E.a,{onClick:function(){return te(t)}}," ",c.a.createElement(_.a,null)," "))}}],ee=function(e){N(!0),Q(e),j.setFieldsValue(e)},te=function(e){var t=a.deleteData,n=e.id;F()({title:"Are you sure delete this task?",content:"Some descriptions",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t(n),ae("X\xf3a nh\xe2n vi\xean th\xe0nh c\xf4ng")},onCancel:function(){}})};function ae(e){J.a.success({content:"".concat(e)})}var ne=function(e){v(!1)},re={labelCol:{span:8},wrapperCol:{span:16}};return c.a.createElement(u.a,null,c.a.createElement(q,{className:"site-layout-background",style:{padding:0}},Object.keys(h)?c.a.createElement(D.a,{className:"trigger",onClick:X}):c.a.createElement(b.a,{className:"trigger",onClick:X}),c.a.createElement("h1",{className:"title-header"},"Task3 "),c.a.createElement(E.a,{className:"btn-profile",style:{background:"none",border:"none"},onClick:function(){return H(!0)}}," ",c.a.createElement(P.a,{src:S.picture})," ")),c.a.createElement(u.a,{className:"site-layout"},c.a.createElement(B,{trigger:null,collapsible:!0,collapsed:h},c.a.createElement(d.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},c.a.createElement(d.a.Item,{key:"1",icon:c.a.createElement(f.a,null)},"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"),c.a.createElement(d.a.Item,{key:"3",icon:c.a.createElement(T.a,null),onClick:function(){return n(),void localStorage.clear()}},"Log out"))),c.a.createElement(W,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280}},c.a.createElement(E.a,{type:"primary",danger:!0,className:"button-add",onClick:function(){return v(!0)}},"Th\xeam nh\xe2n vi\xean"),c.a.createElement("br",null),c.a.createElement(p.a,{dataSource:t,columns:Z}),";")),c.a.createElement(z,{style:{textAlign:"center"}},"Employee management \xa92020 Created by Thi\u1ec7n N\u0110"),c.a.createElement(J.a,{title:"Add Employee",visible:k,onCancel:ne,footer:null},c.a.createElement(m.a,Object.assign({},re,{name:"nest-messages",onFinish:function(e){var t=a.addData,n=new Date,r=new Date(e.dateofbirth),c=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();((o<0||0===o&&n.getDate()<r.getDate())&&c--,c<10)?ae("Nh\xe2n vi\xean ph\u1ea3i tr\xean 10 tu\u1ed5i"):(t(Object(i.a)({},e)),ae("Th\xeam nh\xe2n vi\xean th\xe0nh c\xf4ng"),ne())}}),c.a.createElement(m.a.Item,{name:"name",label:"Name",rules:[{required:!0}]},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{name:"phone",label:"phone"},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{name:"dateofbirth",label:"Date of birth"},c.a.createElement(A.a,{type:"date"})),c.a.createElement(m.a.Item,{name:"address",label:"Address"},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{wrapperCol:Object(i.a)(Object(i.a)({},re.wrapperCol),{},{offset:8})},c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))),c.a.createElement(J.a,{title:"Edit Employee",visible:x,onCancel:function(){return N(!1)},footer:null},c.a.createElement(m.a,Object.assign({form:j},re,{name:"nest-messages",onFinish:function(e){(0,a.editData)(e,K.id),ae("S\u1eeda th\xe0nh c\xf4ng"),N(!1)}}),c.a.createElement(m.a.Item,{name:"name",label:"Name",rules:[{required:!0}]},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{name:"phone",label:"phone"},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{name:"dateofbirth",label:"Date of birth"},c.a.createElement(A.a,{type:"date"})),c.a.createElement(m.a.Item,{name:"address",label:"Address"},c.a.createElement(A.a,null)),c.a.createElement(m.a.Item,{wrapperCol:Object(i.a)(Object(i.a)({},re.wrapperCol),{},{offset:8})},c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))),c.a.createElement(J.a,{title:"Profile",visible:G,onCancel:function(){H(!1)},footer:null,className:"modal-profile"},c.a.createElement(P.a,{size:104,src:S.picture}),c.a.createElement("p",{style:{color:"blue",fontSize:"20px",fontFamily:"tahoma",margin:0}},S.name),c.a.createElement("p",null,S.email)))})),K=a(151),Q=a(37),X=(a(394),u.a.Header),$=u.a.Content;function Z(){var e=Object(Y.b)(),t=e.loginWithRedirect,a=e.isAuthenticated,n=e.user,r=Object(Q.g)();return a&&(localStorage.setItem("isLogin",a),localStorage.setItem("isUser",JSON.stringify(n)),r.push("/home")),c.a.createElement(u.a,null,c.a.createElement(X,null),c.a.createElement($,{className:"main-login"},c.a.createElement(E.a,{className:"ml-4 mt-2",type:"primary",onClick:function(){t()}},"Login")))}var ee=a(216),te=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=localStorage.getItem("isLogin");return c.a.createElement(Q.b,Object.assign({},a,{render:function(e){return"true"===n?c.a.createElement(t,e):c.a.createElement(Q.a,{to:"/"})}}))};var ae=function(){return c.a.createElement(K.a,null,c.a.createElement(Q.d,null,c.a.createElement(Q.b,{path:"/"},c.a.createElement(Z,null)),c.a.createElement(te,{path:"/home",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(211),re=a(210),ce={lists:[]},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.GET_DATA:return Object(i.a)({},e);case S.GET_DATA_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{lists:t.payload.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{key:t})}))});case S.GET_DATA_ERROR:case S.DELETE_DATA:return Object(i.a)({},e);case S.DELETE_DATA_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{lists:e.lists.filter((function(e){return e.id!==t.payload.id}))});case S.DELETE_DATA_ERROR:case S.ADD_DATA:return Object(i.a)({},e);case S.ADD_DATA_SUCCESS:var a=Object(re.a)(e.lists);return a.push(t.payload),Object(i.a)(Object(i.a)({},e),{},{lists:a});case S.ADD_DATA_ERROR:case S.EDIT_DATA:return Object(i.a)({},e);case S.EDIT_DATA_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{lists:e.lists.map((function(e,a){return e.id===t.payload.id?Object(i.a)(Object(i.a)({},t.payload),{},{key:a}):e}))});case S.EDIT_DATA_ERROR:return Object(i.a)({},e);case S.SEARCH_DATA:return console.log(t.payload),e;default:return e}},le=(0,a(65).combineReducers)({employeeData:oe}),ie=a(63),se=a.n(ie),ue=a(67),me=se.a.mark(De),Ee=se.a.mark(be),de=se.a.mark(fe),pe=se.a.mark(Te),Ae=se.a.mark(ye);function De(){var e,t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(ue.c)(S.GET_DATA);case 3:return a.next=5,fetch("https://5f7be4e000bd740016909f7b.mockapi.io/api/employee",{method:"GET",headers:new Headers({"Content-Type":"application/json",Accept:"*/*"})});case 5:return e=a.sent,a.next=8,e.json();case 8:return t=a.sent,a.next=11,Object(ue.b)(j(t));case 11:a.next=0;break;case 13:case"end":return a.stop()}}),me)}function be(e){var t,a,n;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,fetch("https://5f7be4e000bd740016909f7b.mockapi.io/api/employee/".concat(t),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Accept:"*/*"})});case 3:return a=r.sent,r.next=6,a.json();case 6:return n=r.sent,r.next=9,Object(ue.b)(w(n));case 9:case"end":return r.stop()}}),Ee)}function fe(e){var t,a,n;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,console.log(t),r.next=4,fetch("https://5f7be4e000bd740016909f7b.mockapi.io/api/employee",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"*/*"}),body:JSON.stringify(t)});case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,console.log(n),r.next=11,Object(ue.b)(k(n));case 11:case"end":return r.stop()}}),de)}function Te(e){var t,a,n;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,fetch("https://5f7be4e000bd740016909f7b.mockapi.io/api/employee/".concat(t.id),{method:"PUT",headers:new Headers({"Content-Type":"application/json",Accept:"*/*"}),body:JSON.stringify(t.list)});case 3:return a=r.sent,r.next=6,a.json();case 6:return n=r.sent,r.next=9,Object(ue.b)(U(n));case 9:case"end":return r.stop()}}),pe)}function ye(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)(De);case 2:return e.next=4,Object(ue.d)(S.DELETE_DATA,be);case 4:return e.next=6,Object(ue.d)(S.ADD_DATA,fe);case 6:return e.next=8,Object(ue.d)(S.EDIT_DATA,Te);case 8:case"end":return e.stop()}}),Ae)}var _e=ye,he=Object(ne.a)(),Oe=Object(O.createStore)(le,Object(O.applyMiddleware)(he));he.run(_e);var Se=Oe;l.a.render(c.a.createElement(Y.a,{domain:"dev-4ikv6116.us.auth0.com",clientId:"hqIvgYBOGNshJ4h2YFV3k04iSnwM9krw",redirectUri:window.location.origin},c.a.createElement(h.a,{store:Se},c.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[219,1,2]]]);
//# sourceMappingURL=main.e6a5e624.chunk.js.map